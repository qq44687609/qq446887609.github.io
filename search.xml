<?xml version="1.0" encoding="utf-8"?>
<search>
  
    
    <entry>
      <title><![CDATA[计时器]]></title>
      <url>%2F2016%2F12%2F18%2F%E8%AE%A1%E6%97%B6%E5%99%A8%2F</url>
      <content type="text"><![CDATA[#php js 倒计时生成 你站的地方风吹过来都是暖的 以前一直感觉JS难，今天学了1天。。。。。。确实TMD难！！！ 才写好个倒计时生成 贴上来吧！！！ 效果先贴上图片 贴上自己写的简单的分页 &lt;div id=&quot;one&quot;&gt; &lt;div id=&quot;day&quot;&gt;&lt;span id=&quot;days&quot;&gt;&lt;/span&gt;&lt;br/&gt;&lt;em&gt;days&lt;/em&gt; /&lt;/div&gt; &lt;div id=&quot;hour&quot;&gt;&lt;span id=&quot;hours&quot;&gt;&lt;/span&gt;&lt;br/&gt;&lt;em&gt;hours&lt;/em&gt; /&lt;/div&gt; &lt;div id=&quot;min&quot;&gt;&lt;span id=&quot;mins&quot;&gt;&lt;/span&gt;&lt;br/&gt;&lt;em&gt;min&lt;/em&gt; /&lt;/div&gt; &lt;div id=&quot;sec&quot;&gt;&lt;span id=&quot;secs&quot;&gt;&lt;/span&gt;&lt;br/&gt;&lt;em&gt;sec&lt;/em&gt; /&lt;/div&gt; &lt;/div&gt; &lt;script&gt; //判断添加01 类型时间 function checktime(i){ if(i&lt;10){ i=&quot;0&quot;+i; } return i; } //启动时间 setInterval(&quot;showtime()&quot;,1000); //倒计时函数 function showtime(){ var endtime=new Date(&quot;2018/01/01,15:01:01&quot;); var nowtime=new Date(); var counttime=parseInt(endtime.getTime() - nowtime.getTime())/1000; var days=parseInt(counttime/60/60/24); var hours=parseInt(counttime/60/60%24); var mins=parseInt(counttime/60%60); var sec=parseInt(counttime%60); //判断是否小于10小于10在前面加0 hours=checktime(hours); mins=checktime(mins); secs=checktime(sec); //输出日期 document.getElementById(&quot;days&quot;).innerHTML=days; document.getElementById(&quot;hours&quot;).innerHTML=hours; document.getElementById(&quot;mins&quot;).innerHTML=mins; document.getElementById(&quot;secs&quot;).innerHTML=secs; }]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[php分页]]></title>
      <url>%2F2016%2F12%2F14%2Fphp%E5%88%86%E9%A1%B5%2F</url>
      <content type="text"><![CDATA[#php原生验证码生成 看山是山，看水是水，看山不是山，看水不是水，看山还是山，看水还是水 在用惯了TP框架后分页功能也是直接拿来用，这几天复习php原生，今天花了点时间自己写了下分页功能，记录一下吧，并不完善。 效果先贴上图片 贴上自己写的简单的分页 &lt;?php $host=&quot;127.0.0.1&quot;; $name=&quot;root&quot;; $pass=&quot;root&quot;; $con=mysql_connect($host,$name,$pass); mysql_select_db(&quot;blog&quot;); mysql_query(&apos;set names utf8&apos;); $sql=&quot;select name from bl_user&quot;; $results=mysql_query($sql); $sum=mysql_num_rows($results); //分页查询数据 $n=4;//每页显示4条数据 $total=ceil($sum/$n);//向上取整获取总页数 //获取page如果没有的话 默认为1 第一页 if(isset($_GET[&apos;page&apos;])){ $page=$_GET[&apos;page&apos;]; }elseif($_GET[&apos;page&apos;]&lt;1){ $page=1; }else{ $page=1; } $row=($page-1)*$n;//limit的位置 $sql=&quot;select name from bl_user limit $row,$n&quot;;//查询一页的数据 $results=mysql_query($sql); $data=array(); while($count=mysql_fetch_row($results)) { $data[]=$count; } ?&gt; &lt;div&gt; &lt;?php //循环输出内容 foreach ($data as $key =&gt; $value) { echo $value[&apos;0&apos;].&apos;&lt;br /&gt;&lt;br /&gt;&apos;; } //循环出页数 for($i=1;$i&lt;=$total;$i++){ echo &quot;&lt;a href=&apos;page.php?page=$i&apos;&gt;$i&lt;/a&gt;&amp;nbsp;&amp;nbsp&quot;; } //上一页 if($page&gt;1){ echo &quot;&lt;a href=&apos;page.php?page=&quot;.($page-1).&quot;&apos;&gt;上一页&lt;/a&gt;&quot;; } if($page&lt;$total){ echo &quot;&lt;a href=&apos;page.php?page=&quot;.($page+1).&quot;&apos;&gt;下一页&lt;/a&gt;&quot;; } ?&gt;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[code-验证码生成]]></title>
      <url>%2F2016%2F12%2F12%2Fcode-%E9%AA%8C%E8%AF%81%E7%A0%81%E7%94%9F%E6%88%90%2F</url>
      <content type="text"><![CDATA[#php原生验证码生成 不积跬步，无以至千里。不积小流，无以成江海 在用惯了TP框架后验证码功能都是直接拿来用，今天复习原生php发现生成验证码真的很简单，我以前还感觉很难，果然不动手永远不会啊。 效果先贴上图片 贴上自己写的简单的验证码 //声明 header(&apos;content-type:image/png&apos;); //生成画布 $img=imagecreatetruecolor(100,50); //生成画笔 $blank=imagecolorallocate($img,0x00,0x00,0x00); $green=imagecolorallocate($img,0x00,0xff,0x00); $white=imagecolorallocate($img,0xff,0xff,0xff); //填充画布背景 imagefill($img,0,0,$white); //生成验证码 $code=&apos;&apos;; for($i=0;$i&lt;4;$i++){ $code.=rand(0,9); } //生成字符函数 imagestring($img,5,15,10,$code,$blank); //生成噪点 for($i=0;$i&lt;100;$i++){ imagesetpixel($img,rand(0,100),rand(0,100),$blank);//生成函数 imagesetpixel($img,rand(0,100),rand(0,100),$green); } imagepng($img);//生成图片 imagedestroy($img);//释放与image 关联的内存]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[email 验证]]></title>
      <url>%2F2016%2F12%2F10%2Femail-%E6%B3%A8%E5%86%8C%E9%AA%8C%E8%AF%81%2F</url>
      <content type="text"><![CDATA[#php email邮箱验证功能的实现 第一次更新博客 有点紧张，O(∩_∩)O哈哈哈~。 我们要实现的功能是用户点击注册时发送验证链接到指定邮箱，用户点击链接激活邮箱！ ###准备工具 phpmailer 数据库结构 一、下载phpmailer 将其配置到你的项目中 二、我们需要在我们项目中将phpmailer的sendMail方法写入到我们的公共函数部分方便后面调用。 function sendMail($to, $title, $content){ require_once(&apos;./Plug/phpmailer/class.phpmailer.php&apos;); $mail = new PHPMailer(); // 设置为要发邮件 $mail-&gt;IsSMTP(); // 是否允许发送HTML代码做为邮件的内容 $mail-&gt;IsHTML(TRUE); $mail-&gt;CharSet=&apos;UTF-8&apos;; // 是否需要身份验证 $mail-&gt;SMTPAuth=TRUE; /* 邮件服务器上的账号是什么 -&gt; 到163注册一个账号即可 */ $mail-&gt;From=&quot;qingchengsnow@sina.cn&quot;; $mail-&gt;FromName=&quot;qingchengsnow&quot;; $mail-&gt;Host=&quot;smtp.sina.cn&quot;; //发送邮件的服务协议地址 $mail-&gt;Username=&quot;qingchengsnow&quot;; $mail-&gt;Password=&quot;gaobieme96&quot;; // 发邮件端口号默认25 $mail-&gt;Port = 25; // 收件人 $mail-&gt;AddAddress($to); // 邮件标题 $mail-&gt;Subject=$title; // 邮件内容 $mail-&gt;Body=$content; return($mail-&gt;Send()); } 以上内容我们只需要修改如下图所示内容 三、当用户点击注册时，我们的主要逻辑如下： &apos;code&apos;=&gt;md5(uniqid()),//获取随机数 $url=SITEURL.&apos;index.php/Home/Ajax/chekemail/id/&apos;.$id.&apos;/code/&apos;.$obj[&apos;userinfo&apos;][&apos;code&apos;]; //生成邮箱激活链接 sendMail(I(&apos;email&apos;),&apos;Tasays注册信息&apos;,&apos;亲爱的&apos;.$obj[&apos;username&apos;].&apos;欢迎注册赵军海的个人blog 点击链接激活email &apos;.$url); //调用phpmailer的sendMail 这样我们的验证接连就会发送到用户邮箱了.具体实现如下图 看看我们有没有收到邮箱验证信息呢？ 下面我们要开始实现点击验证咯 非常简单哦~~~ 我们只需要根据链接传递进来的ID和code查询该用户code是否存，存在的话清空验证码，修改ver状态为1（已验证）即可。贴上代码]]></content>
    </entry>

    
  
  
</search>
